(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Tp7n:function(e,t,a){"use strict";a.r(t);var n,c=a("zLVn"),r=a("q1tI"),l=a.n(r),i=a("hGi/"),o=(a("kSBX"),a("T3EJ")),s=a("DEsH"),m=a("1G37"),d=a("eW31"),u=a("8qo5"),v=Object(r.createContext)(null),E=function(){return Object(r.useContext)(v)},f=a("pJAA"),h=a("vIQ3"),_=a("FYJp"),b=function(e){Object(i.a)(e);var t=E(),a=Object(_.a)(t),n=Object(_.b)(a.version),c=f.a(a.dateRelease),r=n.mmp+"/metadata/cover.png";return l.a.createElement("section",{className:"content__section"},l.a.createElement("div",{className:"main-presentation"},l.a.createElement("div",{className:"main-meta"},l.a.createElement("span",{className:"main-meta-informer__version"},n.preReleaseName),l.a.createElement("time",{className:"main-meta-informer__date",dateTime:a.dateRelease},c)),l.a.createElement("h1",{className:"main-title"},n.mmp),l.a.createElement("div",{className:"main-cover"},l.a.createElement(h.a,{className:"win-innovation-cover__cover",relativePath:r,alt:"cover"}))))},k=function(e){return Object(i.a)(e),l.a.createElement("div",{className:"social-network__share ya-share2","data-services":"vkontakte,facebook,twitter,whatsapp,telegram"})},p=function(e){return Object(i.a)(e),l.a.createElement("div",{className:"content__under-cover-bar"},l.a.createElement(k,null))},N=a("EKdO"),O=a("AnUa"),j=a("FATx"),g=a("Fatc"),w=a("EaY7"),C=Object(d.a)((function(e){Object(i.a)(e),Object(O.a)(),Object(j.a)(),Object(w.a)();var t=Object(g.f)().innovations.innovationDataAll.map((function(e,t){return l.a.createElement("section",{key:t,id:e.path,className:"content__section win-content__innovation-list-item"},l.a.createElement(N.a,{commitInfoAll:e.commitInfoAll,contentOnGithubLink:e.fileOnGithubLink}),l.a.createElement("span",{className:"content__html-content-wrapper",dangerouslySetInnerHTML:{__html:e.html}}))}));return l.a.createElement(l.a.Fragment,null,t)})),A=a("kmFt"),S=a("Va/Y"),x=a("KraK"),P=a("ouma"),y=a("OaiF"),I=a("4KgZ"),V=a("TSYQ"),F=a.n(V),L=a("MM21");!function(e){e[e.Active=0]="Active",e[e.Inactive=1]="Inactive"}(n||(n={}));var D=function(e){var t,a=e.isActive,c=e.state,r=void 0===c?n.Active:c,i=F()("activity",((t={})["activity-state_active"]=r===n.Active,t["activity-state_inactive"]=r===n.Inactive,t));return l.a.createElement(L.a,{condition:a},l.a.createElement("div",{className:i}))},R=Object(d.a)((function(e){var t=e.children,a=Object(g.e)();return a.isAllVersionChecked,l.a.createElement(A.a,{className:"filter-dropdown"},l.a.createElement(S.a,null,l.a.createElement(D,{isActive:!a.isAllVersionChecked,state:a.isAllVersionUnchecked?n.Inactive:n.Active}),l.a.createElement(x.a,{size:x.b.SM},l.a.createElement(P.m,null),l.a.createElement(I.a,{position:I.b.BottomCenter},"Фильтр версий"))),l.a.createElement(y.a,{className:"filter-dropdown__menu content__control-bar-dropdown-item",openClassName:"filter-dropdown__menu_open-state",closeClassName:"filter-dropdown__menu_close-state"},t))})),T=a("uRCh"),B=Object(r.createContext)({name:"",setState:function(e){},getState:function(e){return!1}}),Y=function(e){var t=e.name,a=e.children,n=Object(r.useState)({}),c=n[0],i=n[1],o={name:null!=t?t:Object(T.generateStringId)(),setState:function(e){var t=e.id,a=e.checked;return i((function(){return Object.keys(c).reduce((function(e,n){var r;return Object.assign(e,((r={})[n]=n===t&&(null!=a?a:!c[n]),r))}),{})}))},getState:function(e){return c[e]}};return l.a.createElement(B.Provider,{value:o},a)},z=Object(r.createContext)({id:"",checked:!1}),J=function(){return Object(r.useContext)(z)},K=Object(d.a)((function(e){var t,a,n=e.onChecked,c=e.value,i=e.className,o=e.classNameChecked,s=void 0===o?"checked":o,m=e.classNameNotChecked,d=void 0===m?"not-checked":m,u=e.checked,v=void 0!==u&&u,E=e.id,f=e.children,h=Object(r.useContext)(B),_=h.name,b=h.setState,k=h.getState,p=Object(r.useRef)(null!=E?E:Object(T.generateStringId)()),N=null!==(t=k(p.current))&&void 0!==t?t:v,O={id:p.current,checked:N},j=F()("radio",i,((a={})[s]=N,a[d]=!N,a));return Object(r.useEffect)((function(){b({id:p.current,checked:O.checked!==N?N:v})}),[v]),l.a.createElement(z.Provider,{value:O},l.a.createElement("label",{htmlFor:p.current,className:j},l.a.createElement("input",{type:"radio",id:p.current,name:_,value:c,className:"radio__input",checked:N,onChange:function(){var e={id:p.current,checked:!N};b(Object.assign({},e)),n&&n(Object.assign({},e))}}),f))})),G=Object(d.a)((function(e){var t,a=e.onChecked,n=e.className,c=e.classNameChecked,i=void 0===c?"checked":c,o=e.classNameNotChecked,s=void 0===o?"not-checked":o,m=e.value,d=e.children,u=e.checked,v=void 0!==u&&u,E=e.id,f=void 0===E?Object(T.generateStringId)():E,h=Object(r.useRef)(null!=f?f:Object(T.generateStringId)()),_=F()("checkbox",n,((t={})[i]=v,t[s]=!v,t)),b={id:h.current,checked:v};return l.a.createElement(z.Provider,{value:b},l.a.createElement("label",{className:_},l.a.createElement("input",{type:"checkbox",value:m,id:h.current,className:"checkbox__input",onChange:function(){a&&a({checked:!v,id:h.current})},checked:v}),d))})),M=function(e){var t=e.id,a=e.className,n=e.children,c=J().id,r=void 0===c?t:c,i=F()("label",a);return l.a.createElement("label",{htmlFor:r,className:i},n)},H=function(e){var t,a=e.className,n=J().checked,c=F()("checkbox__icon-group",a,((t={})["checkbox__icon-group_checked"]=n,t["checkbox__icon-group_not-checked"]=!n,t));return l.a.createElement("div",{className:c},l.a.createElement(L.a,{condition:n},l.a.createElement(P.h,{className:"checkbox__svg-icon"})),l.a.createElement(L.a,{condition:!n},l.a.createElement(P.i,{className:"checkbox__svg-icon"})))},Q=Object(d.a)((function(e){Object(i.a)(e);var t=Object(g.e)();return l.a.createElement("form",{className:"win-filter-dropdown-menu__control-bar"},l.a.createElement("fieldset",{className:"fieldset_md"},l.a.createElement("legend",{className:"legend_md"},"Отобразить:"),l.a.createElement(Y,{name:"filter-version"},l.a.createElement(K,{value:"last",className:"win-filter-version__radio",classNameChecked:"win-filter-version__radio_checked",classNameNotChecked:"win-filter-version__radio_not-checked",onChecked:function(e){return e.checked&&t.checkedLastVersion()},checked:t.isLastVersionChecked},l.a.createElement(M,null,"Последнее")),l.a.createElement(K,{value:"all",className:"win-filter-version__radio",classNameChecked:"win-filter-version__radio_checked",classNameNotChecked:"win-filter-version__radio_not-checked",onChecked:function(e){return e.checked&&t.checkedAllVersion()},checked:t.isAllVersionChecked},l.a.createElement(M,null,"Все")))))})),U=Object(d.a)((function(e){Object(i.a)(e);var t=Object(g.e)(),a=t.versionInfoAll.map((function(e,a){return l.a.createElement("li",{key:a,className:"win-filter-content-form__list-item"},l.a.createElement(G,{id:e.data.version,className:"win-filter-content-form__checkbox",value:e.data.version,onChecked:function(){return t.changeByVersion(e.data.version)},checked:e.checked},l.a.createElement(M,{className:"win-filter-content-form__label"},l.a.createElement(H,null),l.a.createElement("span",{className:"win-filter-content-form__label_stage"},e.data.stage),l.a.createElement(L.a,{condition:""!==e.data.updateVersion},l.a.createElement("span",{className:"win-filter-content-form__label_update-version"},"upd",e.data.updateVersion)),l.a.createElement("span",{className:"win-filter-content-form__label_date"},"(",e.data.dateRelease,")"),l.a.createElement("span",{className:"win-filter-content-form__label_count"},e.data.count))))}));return l.a.createElement("form",{className:"win-filter-content-form"},l.a.createElement("fieldset",{className:"fieldset_md"},l.a.createElement("legend",{className:"legend_md legend-with-meta"},l.a.createElement("span",{className:"legend_md_base-info"},"История версий"),l.a.createElement("span",{className:"legend_md_meta-info"},"Всего: ",t.innovationCount)),l.a.createElement("ul",null,a)))})),W=Object(d.a)((function(e){return Object(i.a)(e),l.a.createElement("div",{className:"win-version-filter"},l.a.createElement("header",{className:"win-version-filter__header"},l.a.createElement("span",null,"Версионный фильтр")),l.a.createElement("div",{className:"scroll-wrapper"},l.a.createElement(Q,null),l.a.createElement(U,null)))})),q=a("pFkx"),X=function(e){var t=e.message;return l.a.createElement("div",{className:"content__content-placeholder_empty"},l.a.createElement("div",{className:"content-placeholder__informer"},l.a.createElement("span",{className:"content-placeholder__label"},t)))},Z=Object(d.a)((function(e){Object(i.a)(e);var t=Object(g.f)().versionFilter;return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{condition:0===t.checkedLength},l.a.createElement(X,{message:"Ничего не выбранно"})),l.a.createElement(L.a,{condition:t.checkedLength>0&&0===t.checkedInnovationCount},l.a.createElement(L.a,{condition:1===t.checkedLength},l.a.createElement(X,{message:"Выбранная версия не содержит нововведений"})),l.a.createElement(L.a,{condition:t.checkedLength>1},l.a.createElement(X,{message:"Выбранные версии не содержат нововведений"}))))})),$=a("DaPz"),ee=a("KQm4"),te=function(){};te.parse=function(e){var t;return(null!==(t=e.get("vf"))&&void 0!==t?t:"").split(",").filter(Boolean)};var ae=a("S8kh");var ne=a("2vnA");var ce=Object(d.a)((function(e){var t,a;Object(i.a)(e),t=Object(g.e)(),a=Object(ae.c)(),Object(r.useLayoutEffect)((function(){var e=te.parse(a.urlSearchParams);e.length&&t.checkedOnlyByVersion.apply(t,Object(ee.a)(e))}),[]),function(){var e=Object(g.e)(),t=Object(g.d)();Object(r.useLayoutEffect)((function(){Object(ne.c)((function(){return t.versionFilterDataAll})).observe((function(t){var a=t.newValue;e.clean(),e.addVersionInfo(a),e.checkedAllVersion()}))}),[])}();E(),Object(g.f)().contentDataWinPageStore;return l.a.createElement(o.a,{driver:l.a.createElement(m.b,null),content:l.a.createElement(s.a,{controlBar:l.a.createElement(u.a,null,l.a.createElement("div",{className:"content__win-control-bar_wrapper"},l.a.createElement(R,null,l.a.createElement(W,null)))),content:l.a.createElement($.a,null,l.a.createElement(b,null),l.a.createElement(p,null),l.a.createElement(C,null),l.a.createElement(Z,null),l.a.createElement(q.a,null))})})})),re=a("H8eV"),le=a("bnLi"),ie=a("73Uz"),oe=Object(r.createContext)(null),se=Object(r.createContext)(null),me=a("19Yi"),de=a("h59u"),ue=a("Bapu"),ve=a("mLh/"),Ee=a("cddY"),fe=a("3ihZ");t.default=function(e){var t,a,n,i=e.pageContext,o=e.location,s=i.localization,m=i.innovationData,d=i.winTocTree,u=i.pageNavDataAll,E=(s.pages,Object(c.a)(s,["pages"])),f=(t=g.b,a={winTocTree:d,innovationData:m,pageNavDataAll:u,location:o},n=Object(r.useRef)({isFirstRender:!0}),Object(r.useEffect)((function(){return function(){}}),[]),n.current.isFirstRender&&(t.destroy(),n.current.isFirstRender=!1),t.getInstance(a)),h=f.stores,_=f.validators,b=h.router;h.contentDataWinPageStore;return Object(fe.a)(b),l.a.createElement(g.a.Provider,{value:h},l.a.createElement(se.Provider,{value:_},l.a.createElement(me.a.Provider,{value:h.behaviorNotificationStore},l.a.createElement(oe.Provider,{value:u},l.a.createElement(le.a.Provider,{value:s},l.a.createElement(ae.b.Provider,{value:b},l.a.createElement(Ee.a.Provider,{value:h.contentIntersectionObserver},l.a.createElement(ve.a.Provider,{value:h.contentNav},l.a.createElement(ue.a.Provider,{value:h.contentDownPanelStore},l.a.createElement(ie.a,null,l.a.createElement(re.a,Object.assign({},E)),l.a.createElement(v.Provider,{value:m},l.a.createElement(ce,null),l.a.createElement(de.a,null))))))))))))}},kSBX:function(e,t,a){}}]);
//# sourceMappingURL=component---src-page-templates-what-is-new-page-what-is-new-page-provider-tsx-9a4b0c89558d0db1f858.js.map