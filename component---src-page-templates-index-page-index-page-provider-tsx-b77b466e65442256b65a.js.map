{"version":3,"sources":["webpack:///./src/mobx__entry/IndexPageMobxEntry.ts","webpack:///./src/react__hooks/useVersionInfo.ts","webpack:///./src/enums/LocalStorageKey.ts","webpack:///./src/components/page__index-page__content/IndexPageContent.tsx","webpack:///./src/react__hooks/use-welcome-description-index.ts","webpack:///./src/page-templates/index-page/IndexPage.tsx","webpack:///./src/page-templates/index-page/IndexPageProvider.tsx","webpack:///./src/enums/AppNavId.ts"],"names":["IndexPageMobxEntry","getInstance","params","instance","create","_ref","location","router","VersionInfoContext","useVersionInfo","LocalStorageKey","IndexPageContent","observer","appNav","versionInfo","_useTranslator","AppNavigation","IndexPageGui","appNavigation","_useTranslator$","appDescription","subtitleAll","indexNavAll","find","i","id","AppNavId","BookContents","WhatIsNewContents","Pdf","subtitleIndex","length","currentIndex","window","_window$localStorage$","prevIndex","localStorage","getItem","SubtitleIndexIndexPage","parseInt","setItem","toString","some","item","navItemNames","filter","map","name","join","Error","indexNavAssert","nav","navItem","createElement","className","key","path","to","mmp","preReleaseName","pageContext","localization","appSharedLocalization","pages","mobxEntry","setLocation","Provider","value","RouterStore","BaseLayout","Object","assign","meta","content"],"mappings":"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","file":"component---src-page-templates-index-page-index-page-provider-tsx-b77b466e65442256b65a.js","sourcesContent":["import { createContext, useContext } from \"react\";\nimport { RouterStore } from \"../stores/RouterStore\";\nexport var IndexPageMobxEntry = /*#__PURE__*/function () {\n  function IndexPageMobxEntry() {}\n\n  IndexPageMobxEntry.getInstance = function getInstance(params) {\n    if (!IndexPageMobxEntry.instance) {\n      IndexPageMobxEntry.instance = IndexPageMobxEntry.create(params);\n    }\n\n    return IndexPageMobxEntry.instance;\n  };\n\n  return IndexPageMobxEntry;\n}();\n\nIndexPageMobxEntry.create = function (_ref) {\n  var location = _ref.location;\n  var router = new RouterStore(location);\n  return {\n    router: router\n  };\n};\n\nexport var MobxIndexPageContext = /*#__PURE__*/createContext(null);\nexport var useIndexPageStores = function useIndexPageStores() {\n  return useContext(MobxIndexPageContext);\n};","import { createContext, useContext } from \"react\";\nexport var VersionInfoContext = /*#__PURE__*/createContext(null);\nexport var useVersionInfo = function useVersionInfo() {\n  return useContext(VersionInfoContext);\n};","export var LocalStorageKey;\n\n(function (LocalStorageKey) {\n  LocalStorageKey[\"SubtitleIndexIndexPage\"] = \"subtitleIndex_IndexPage\";\n})(LocalStorageKey || (LocalStorageKey = {}));","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport React from \"react\";\nimport { Link } from \"gatsby\";\nimport { observer } from \"mobx-react-lite\";\nimport { useVersionInfo } from \"../../react__hooks/useVersionInfo\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { useWelcomeDescriptionIndex } from \"../../react__hooks/use-welcome-description-index\";\nimport { AppNavId } from \"../../enums/AppNavId\";\n\nvar appToIndexPageNav = function appToIndexPageNav(appNav) {\n  return [appNav.find(function (i) {\n    return i.id === AppNavId.BookContents;\n  }), appNav.find(function (i) {\n    return i.id === AppNavId.WhatIsNewContents;\n  }), appNav.find(function (i) {\n    return i.id === AppNavId.Pdf;\n  })];\n};\n\nfunction indexNavAssert(indexNavAll) {\n  if (indexNavAll.some(function (item) {\n    return !item;\n  })) {\n    var navItemNames = indexNavAll.filter(function (i) {\n      return i;\n    }).map(function (i) {\n      return i === null || i === void 0 ? void 0 : i.name;\n    }).join(\", \");\n    throw new Error(\"Index page nav is not valid. Current nav item names [\" + navItemNames + \"].\");\n  }\n}\n\nexport var IndexPageContent = observer(function (_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var versionInfo = useVersionInfo();\n\n  var _useTranslator = useTranslator(LocalizationPaths.AppNavigation, LocalizationPaths.IndexPageGui),\n      appNavigation = _useTranslator[0],\n      _useTranslator$ = _useTranslator[1],\n      appDescription = _useTranslator$.appDescription,\n      subtitleAll = _useTranslator$.subtitleAll;\n\n  var indexNavAll = appToIndexPageNav(appNavigation);\n  var subtitleIndex = useWelcomeDescriptionIndex(subtitleAll.length);\n  indexNavAssert(indexNavAll);\n  var nav = indexNavAll.map(function (navItem) {\n    return /*#__PURE__*/React.createElement(Link, {\n      className: \"link ip-nav-link\",\n      key: navItem.path,\n      to: navItem.path\n    }, navItem.name);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-without-driver__content-layout\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ip-title_container\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ip-subtitle\"\n  }, subtitleAll[subtitleIndex]), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ip-main-informer\"\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"ip-title_name\"\n  }, \"TypeScript Definitive Guide\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ip-title_version\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ip-title_version-mmp\"\n  }, versionInfo.mmp), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ip-title_version-release-name\"\n  }, versionInfo.preReleaseName)))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ip-app-description\"\n  }, appDescription), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"ip-nav\"\n  }, nav));\n});","import { LocalStorageKey } from \"../enums/LocalStorageKey\";\nimport * as AppUtils from \"../utils/app-utils\";\nexport var useWelcomeDescriptionIndex = function useWelcomeDescriptionIndex(length) {\n  var currentIndex = 0;\n\n  if (AppUtils.isBrowser() && window) {\n    var _window$localStorage$;\n\n    var prevIndex = (_window$localStorage$ = window.localStorage.getItem(LocalStorageKey.SubtitleIndexIndexPage)) !== null && _window$localStorage$ !== void 0 ? _window$localStorage$ : \"-1\";\n    currentIndex = parseInt(prevIndex) + 1;\n    currentIndex = currentIndex >= length ? 0 : currentIndex;\n    window.localStorage.setItem(LocalStorageKey.SubtitleIndexIndexPage, currentIndex.toString());\n  }\n\n  return currentIndex;\n};","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport \"./index.page.scss\";\nimport React from \"react\";\nimport { IndexPageContent } from \"../../components/page__index-page__content/IndexPageContent\";\n\nvar IndexPage = function IndexPage(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  return /*#__PURE__*/React.createElement(IndexPageContent, null);\n};\n\nexport default IndexPage;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useLayoutEffect } from \"react\";\nimport IndexPage from \"./IndexPage\";\nimport SEO from \"../../components/seo\";\nimport { Localization } from \"../../react__hooks/translator.hook\";\nimport BaseLayout from \"../../layouts/base-layout/BaseLayout\";\nimport { RouterStoreContext } from \"../../stores/RouterStore\";\nimport { IndexPageMobxEntry } from \"../../mobx__entry/IndexPageMobxEntry\";\nimport { VersionInfoContext } from \"../../react__hooks/useVersionInfo\";\n\nvar IndexPageProvider = function IndexPageProvider(_ref) {\n  var pageContext = _ref.pageContext,\n      location = _ref.location;\n  var localization = pageContext.localization,\n      versionInfo = pageContext.versionInfo;\n\n  var pages = localization.pages,\n      appSharedLocalization = _objectWithoutPropertiesLoose(localization, [\"pages\"]);\n\n  var mobxEntry = IndexPageMobxEntry.getInstance({\n    location: location\n  });\n  var meta = [{\n    name: \"yandex-verification\",\n    content: \"d7555ce264b8a099\"\n  }];\n  var router = mobxEntry.router;\n  useLayoutEffect(function () {\n    router.setLocation(location);\n  }, []);\n  return /*#__PURE__*/React.createElement(Localization.Provider, {\n    value: localization\n  }, /*#__PURE__*/React.createElement(VersionInfoContext.Provider, {\n    value: versionInfo\n  }, /*#__PURE__*/React.createElement(RouterStoreContext.Provider, {\n    value: mobxEntry.router\n  }, /*#__PURE__*/React.createElement(BaseLayout, null, /*#__PURE__*/React.createElement(SEO, Object.assign({}, appSharedLocalization, {\n    meta: meta\n  })), /*#__PURE__*/React.createElement(IndexPage, null)))));\n};\n\nexport default IndexPageProvider;","export var AppNavId;\n\n(function (AppNavId) {\n  AppNavId[\"BookContents\"] = \"book-contents\";\n  AppNavId[\"WhatIsNewContents\"] = \"what-is-new-contents\";\n  AppNavId[\"Pdf\"] = \"pdf\";\n})(AppNavId || (AppNavId = {}));"],"sourceRoot":""}